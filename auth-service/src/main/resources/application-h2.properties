# --- H2 Profile Configuration (for Local Testing) ---

# Use the H2 in-memory database. "authdb" is just a name for the in-memory instance.
spring.datasource.url=jdbc:h2:mem:authdb
spring.datasource.driverClassName=org.h2.Driver
spring.datasource.username=sa
spring.datasource.password=

# Tell Hibernate to use the H2 dialect
spring.jpa.database-platform=org.hibernate.dialect.H2Dialect

# Create the database schema when the app starts, and drop it when it stops. Perfect for clean testing.
spring.jpa.hibernate.ddl-auto=create-drop

# --- Enable the H2 Console ---
# This is a powerful feature that gives you a web page to view your in-memory database.
spring.h2.console.enabled=true

# --- ADD THIS JWT SECRET ---
# This is the dummy secret for local H2 testing.
jwt.secret=NDBhYjI5ZTBjYjI0MzA3YjhlMGRkNTMyZGM5NzA3ZDI0NTYyN2NkY2Y5MWQ1YWUwMTE3YjExMGEwY2ZlYjkyZQ==
# You can access the console at http://localhost:8083/h2-console
# ```

# ---
## The New Workflow: How to Test Locally

# Now, you have a simple, fast way to test your `auth-service` without starting your entire Docker stack.

# **Step 1: The Build**
# Go to your terminal in the **root** directory of the project and run a full build. This is important to make sure all your modules are up-to-date.
# ```powershell
# ./mvnw.cmd clean install
# ```

# **Step 2: Run the `auth-service` with the H2 Profile**
# 1.  Navigate into your `auth-service`'s target directory:
#     ```powershell
#     cd auth-service/target
#     ```
# 2.  Run the JAR file, but this time, use a special flag to tell it which blueprint to use:
#     ```powershell
#     java -jar auth-service-0.0.1-SNAPSHOT.jar --spring.profiles.active=h2
    
